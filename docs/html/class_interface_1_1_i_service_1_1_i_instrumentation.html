<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Smoke: Interface::IService::IInstrumentation Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>Interface</b>::<a class="el" href="class_interface_1_1_i_service.html">IService</a>::<a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html">IInstrumentation</a>
  </div>
</div>
<div class="contents">
<h1>Interface::IService::IInstrumentation Class Reference</h1><!-- doxytag: class="Interface::IService::IInstrumentation" --><a class="el" href="class_instrumentation.html" title="The Instrumentation class collects and records performance stats about the various...">Instrumentation</a> interface, to let various pieces of code touch the instrumentation.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;Interface.h&gt;</code>
<p>

<p>
<a href="class_interface_1_1_i_service_1_1_i_instrumentation-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#d598193450801eca94f3c2f87157bf1c">UpdatePeriodicData</a> (f32 deltaTime)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual i32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#aebb7f8e82af4a123988f33e28440e8f">getCPUCount</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual i32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#d594667533bc53e10637e98eb9bc4610">getNumCounters</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#cae9b62e2c9937b117491711b1cb7e70">getCPUCounters</a> (f64 *CPUCounters)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual f32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#6fdd804fc373853afc0e191dd3222f36">getCurrentFPS</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#71bc7248584c6ff004a26cbbf4e6e3dc">setActiveThreadCount</a> (i32 activeThreadCount)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual i32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#402c042be4f96ffbb0fed90977747385">getActiveThreadCount</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#00db663b6086ca2bc0ae6b2eaa03300b">CaptureJobCounterTicks</a> (u32 jobType, i64 jobCounterTicks)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual i32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#e646bcb16ec3b3f21a0c5c361d409e1e">getJobCount</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_1_1_i_service_1_1_i_instrumentation.html#26aa259a6b7ba00dd90e030d0a739ddb">getJobRatios</a> (f32 *jobRatios)=0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_instrumentation.html" title="The Instrumentation class collects and records performance stats about the various...">Instrumentation</a> interface, to let various pieces of code touch the instrumentation. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d598193450801eca94f3c2f87157bf1c"></a><!-- doxytag: member="Interface::IService::IInstrumentation::UpdatePeriodicData" ref="d598193450801eca94f3c2f87157bf1c" args="(f32 deltaTime)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interface::IService::IInstrumentation::UpdatePeriodicData           </td>
          <td>(</td>
          <td class="paramtype">f32&nbsp;</td>
          <td class="paramname"> <em>deltaTime</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function drives the instrumentation; it's called regularly from the scheduler in the framework, to let the instrumentation know that another frame has elapsed. Whenever it is called, this function will make sure that the cached stats used by the instrumentation are up to date; if they've gotten too old, it will refresh those stats.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deltaTime</em>&nbsp;</td><td>f32 - Elapsed wall-clock time since the last call to this function.</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="aebb7f8e82af4a123988f33e28440e8f"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getCPUCount" ref="aebb7f8e82af4a123988f33e28440e8f" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual i32 Interface::IService::IInstrumentation::getCPUCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of available CPUs in the system, including physical and logical CPUs.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>i32 - Number of available CPUs in the system.</dd></dl>

</div>
</div><p>
<a class="anchor" name="d594667533bc53e10637e98eb9bc4610"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getNumCounters" ref="d594667533bc53e10637e98eb9bc4610" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual i32 Interface::IService::IInstrumentation::getNumCounters           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of CPU performance counters that we're using. There will be one for each available CPU, and one more for the total.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>i32 - Number of CPU performance counters, which will be returned by the getCPUCounters call.</dd></dl>

</div>
</div><p>
<a class="anchor" name="cae9b62e2c9937b117491711b1cb7e70"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getCPUCounters" ref="cae9b62e2c9937b117491711b1cb7e70" args="(f64 *CPUCounters)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interface::IService::IInstrumentation::getCPUCounters           </td>
          <td>(</td>
          <td class="paramtype">f64 *&nbsp;</td>
          <td class="paramname"> <em>CPUCounters</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the most recently measured CPU counters. This value is automatically refreshed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CPUCounters</em>&nbsp;</td><td>f64* - Array, filled by this call, of CPU counters showing percent CPU load. Must be big enough to hold all counters, see <a class="el" href="class_instrumentation.html#f667bcc0ad27c9de449f32ee35b278b7">Instrumentation::getNumCounters()</a>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6fdd804fc373853afc0e191dd3222f36"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getCurrentFPS" ref="6fdd804fc373853afc0e191dd3222f36" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual f32 Interface::IService::IInstrumentation::getCurrentFPS           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the most recently-measured frame rate (in Frames Per Second). This value is automatically refreshed. It is averaged over the last few frames (defined by the update interval in this class).<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>f32 - Frame rate, in frames per second.</dd></dl>

</div>
</div><p>
<a class="anchor" name="71bc7248584c6ff004a26cbbf4e6e3dc"></a><!-- doxytag: member="Interface::IService::IInstrumentation::setActiveThreadCount" ref="71bc7248584c6ff004a26cbbf4e6e3dc" args="(i32 activeThreadCount)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interface::IService::IInstrumentation::setActiveThreadCount           </td>
          <td>(</td>
          <td class="paramtype">i32&nbsp;</td>
          <td class="paramname"> <em>activeThreadCount</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the number of threads the application will now run.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>activeThreadCount</em>&nbsp;</td><td>i32 - Number of active threads the app should use now.</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="402c042be4f96ffbb0fed90977747385"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getActiveThreadCount" ref="402c042be4f96ffbb0fed90977747385" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual i32 Interface::IService::IInstrumentation::getActiveThreadCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of threads that we're currently using in this application.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>i32 - Current active thread count.</dd></dl>

</div>
</div><p>
<a class="anchor" name="00db663b6086ca2bc0ae6b2eaa03300b"></a><!-- doxytag: member="Interface::IService::IInstrumentation::CaptureJobCounterTicks" ref="00db663b6086ca2bc0ae6b2eaa03300b" args="(u32 jobType, i64 jobCounterTicks)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interface::IService::IInstrumentation::CaptureJobCounterTicks           </td>
          <td>(</td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>jobType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i64&nbsp;</td>
          <td class="paramname"> <em>jobCounterTicks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when some job has finished. Keep track of how much time this job has spent in this frame. There may be many jobs of one type passed in during a single frame; their results will be appended.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jobType</em>&nbsp;</td><td>u32 - The type of the job that has just completed; a member of System::Types.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jobCounterTicks</em>&nbsp;</td><td>i64 - The number of clock ticks, from _RDTSC, that this job used during this frame.</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e646bcb16ec3b3f21a0c5c361d409e1e"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getJobCount" ref="e646bcb16ec3b3f21a0c5c361d409e1e" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual i32 Interface::IService::IInstrumentation::getJobCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the max number of job types possible in the system, so the caller can allocate the right sized array.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>i32 - Max number of job types.</dd></dl>

</div>
</div><p>
<a class="anchor" name="26aa259a6b7ba00dd90e030d0a739ddb"></a><!-- doxytag: member="Interface::IService::IInstrumentation::getJobRatios" ref="26aa259a6b7ba00dd90e030d0a739ddb" args="(f32 *jobRatios)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Interface::IService::IInstrumentation::getJobRatios           </td>
          <td>(</td>
          <td class="paramtype">f32 *&nbsp;</td>
          <td class="paramname"> <em>jobRatios</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the ratios of job work done in this most recent frame.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jobRatios</em>&nbsp;</td><td>f32* - Array that this function should fill with the ratios of time spent in each workload on this frame. Must be the right length; call getJobCount. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>C:/Projects/Smoke/code/src/Interfaces/Interface.h</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 28 13:18:43 2008 for Smoke by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
